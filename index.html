<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mapa de Plantas El√©ctricas en Colombia</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <style>
    #map { height: 100vh; width: 100%; }
    .map-title {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      padding: 8px 16px;
      font-size: 18px;
      font-weight: bold;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
      z-index: 1000;
    }
    .info.legend {
      line-height: 18px;
      color: #333;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div class="map-title">Mapa de Hidroel√©ctricas (rojo) y Termoel√©ctricas (azul)</div>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    const map = L.map('map').setView([5.0, -74.5], 6);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '¬© OpenStreetMap contributors'
    }).addTo(map);

    const plantas = [
      // ==================== HIDROEL√âCTRICAS ====================
      { nombre: "Betania", tipo: "Hidroel√©ctrica", dpto: "Huila", municipio: "El Agrado", lat: 2.25, lng: -75.47, potencia: 540, rio: "Magdalena", a√±o: 1993 },
      { nombre: "Calderas", tipo: "Hidroel√©ctrica", dpto: "Antioquia", municipio: "Salgar", lat: 5.95, lng: -75.97, potencia: 26, rio: "Calderas/Tafetanes", a√±o: 1988 },
      { nombre: "Chivor", tipo: "Hidroel√©ctrica", dpto: "Boyac√°", municipio: "Santa Mar√≠a", lat: 4.89, lng: -73.36, potencia: 1000, rio: "Bat√°", a√±o: 1970 },
      { nombre: "Alto Anchicay√°", tipo: "Hidroel√©ctrica", dpto: "Valle del Cauca", municipio: "Buenaventura", lat: 3.61, lng: -76.89, potencia: 355, rio: "Anchicay√°", a√±o: 1974 },
      { nombre: "Guavio", tipo: "Hidroel√©ctrica", dpto: "Cundinamarca", municipio: "Ubal√°", lat: 4.77, lng: -73.25, potencia: 1250, rio: "Guavio", a√±o: 1992 },
      { nombre: "Quimbo", tipo: "Hidroel√©ctrica", dpto: "Huila", municipio: "Gigante", lat: 2.25, lng: -75.64, potencia: 400, rio: "Magdalena", a√±o: 2015 },
      { nombre: "Jaguas", tipo: "Hidroel√©ctrica", dpto: "Antioquia", municipio: "San Rafael", lat: 6.28, lng: -75.02, potencia: 170, rio: "Nare/Guatap√©", a√±o: 1988 },
      { nombre: "La Tasajera", tipo: "Hidroel√©ctrica", dpto: "Antioquia", municipio: "Bello", lat: 6.42, lng: -75.55, potencia: 306, rio: "Grande", a√±o: 1993 },
      { nombre: "Miel I", tipo: "Hidroel√©ctrica", dpto: "Caldas", municipio: "Norcasia", lat: 5.57, lng: -74.88, potencia: 396, rio: "La Miel", a√±o: 2002 },
      { nombre: "Playas", tipo: "Hidroel√©ctrica", dpto: "Antioquia", municipio: "San Rafael", lat: 6.30, lng: -75.03, potencia: 201, rio: "Nare/Guatap√©", a√±o: 2023 },
      { nombre: "R√≠o Amoya-La Esperanza", tipo: "Hidroel√©ctrica", dpto: "Tolima", municipio: "Chaparral", lat: 3.72, lng: -75.58, potencia: 80, rio: "Amoya", a√±o: 2013 },
      { nombre: "Salvajina", tipo: "Hidroel√©ctrica", dpto: "Cauca", municipio: "Su√°rez", lat: 2.95, lng: -76.89, potencia: 285, rio: "Cauca", a√±o: 1985 },
      { nombre: "San Carlos", tipo: "Hidroel√©ctrica", dpto: "Antioquia", municipio: "San Carlos", lat: 6.18, lng: -74.99, potencia: 1240, rio: "San Carlos/Guatap√©", a√±o: 1984 },
      { nombre: "Pe√±ol-Guatap√©", tipo: "Hidroel√©ctrica", dpto: "Antioquia", municipio: "Guatap√©", lat: 6.23, lng: -75.15, potencia: 560, rio: "Nare", a√±o: 1972 },
      { nombre: "Sogamoso", tipo: "Hidroel√©ctrica", dpto: "Santander", municipio: "Betulia", lat: 6.85, lng: -73.35, potencia: 820, rio: "Sogamoso", a√±o: 2014 },
      { nombre: "Hidroituango", tipo: "Hidroel√©ctrica", dpto: "Antioquia", municipio: "Ituango", lat: 7.67, lng: -75.65, potencia: 1200, rio: "Cauca", a√±o: 2022 },
      { nombre: "Urr√° I", tipo: "Hidroel√©ctrica", dpto: "C√≥rdoba", municipio: "Tierralta", lat: 8.10, lng: -76.06, potencia: 340, rio: "Sin√∫", a√±o: 1993 },
      { nombre: "Porce I", tipo: "Hidroel√©ctrica", dpto: "Antioquia", municipio: "Amalfi", lat: 6.7728, lng: -75.1711, potencia: 120, rio: "Porce", a√±o: 1983 },
      { nombre: "Porce II", tipo: "Hidroel√©ctrica", dpto: "Antioquia", municipio: "Amalfi", lat: 6.8056, lng: -75.1491, potencia: 405, rio: "Porce", a√±o: 2001 },
      { nombre: "Porce III", tipo: "Hidroel√©ctrica", dpto: "Antioquia", municipio: "Amalfi", lat: 6.9393, lng: -75.1390, potencia: 660, rio: "Porce", a√±o: 2011 },

      // ==================== TERMOEL√âCTRICAS ====================
      { nombre: "Termoguajira", tipo: "Termoel√©ctrica", dpto: "La Guajira", municipio: "Puerto Bol√≠var", lat: 11.78, lng: -72.26, potencia: 300, rio: "-", a√±o: 1983 },
      { nombre: "Tebsa", tipo: "Termoel√©ctrica", dpto: "Atl√°ntico", municipio: "Barranquilla", lat: 10.99, lng: -74.79, potencia: 900, rio: "-", a√±o: 1993 },
      { nombre: "Termocandelaria", tipo: "Termoel√©ctrica", dpto: "Bol√≠var", municipio: "Cartagena", lat: 10.36, lng: -75.48, potencia: 314, rio: "-", a√±o: 2000 },
      { nombre: "Termosierra", tipo: "Termoel√©ctrica", dpto: "Cesar", municipio: "Aguachica", lat: 8.31, lng: -73.61, potencia: 160, rio: "-", a√±o: 1995 },
      { nombre: "Termopaipa IV", tipo: "Termoel√©ctrica", dpto: "Boyac√°", municipio: "Paipa", lat: 5.77, lng: -73.13, potencia: 300, rio: "-", a√±o: 2015 },
      { nombre: "Termocentro", tipo: "Termoel√©ctrica", dpto: "Santander", municipio: "Barrancabermeja", lat: 7.06, lng: -73.85, potencia: 280, rio: "-", a√±o: 1998 },
      { nombre: "Termonorte", tipo: "Termoel√©ctrica", dpto: "Magdalena", municipio: "Santa Marta", lat: 11.23, lng: -74.19, potencia: 100, rio: "-", a√±o: 1994 },
      { nombre: "Gecelca 1", tipo: "Termoel√©ctrica", dpto: "C√≥rdoba", municipio: "Montel√≠bano", lat: 7.9800, lng: -75.6000, potencia: 164, rio: "-", a√±o: 2000 },
      { nombre: "Gecelca 2", tipo: "Termoel√©ctrica", dpto: "C√≥rdoba", municipio: "Puerto Libertador", lat: 7.9880, lng: -75.5900, potencia: 164, rio: "-", a√±o: 2005 },
      { nombre: "Gecelca 3", tipo: "Termoel√©ctrica", dpto: "C√≥rdoba", municipio: "Puerto Libertador", lat: 7.9911, lng: -75.5946, potencia: 164, rio: "-", a√±o: 2015 },
      { nombre: "Gecelca 3.2", tipo: "Termoel√©ctrica", dpto: "C√≥rdoba", municipio: "Puerto Libertador", lat: 7.9850, lng: -75.6000, potencia: 273, rio: "-", a√±o: 2024 }
    ];

    plantas.forEach(planta => {
      const color = planta.tipo === "Hidroel√©ctrica" ? "red" : "blue";
      const marker = L.circleMarker([planta.lat, planta.lng], {
        radius: 8,
        fillColor: color,
        color: color,
        weight: 1,
        opacity: 1,
        fillOpacity: 0.8
      }).addTo(map);

      marker.bindPopup(`
        <b>${planta.nombre}</b><br>
        <b>Tipo:</b> ${planta.tipo}<br>
        ${planta.departamento} - ${planta.municipio}
      `);
    });

    // üëá Leyenda fija
    const legend = L.control({ position: "bottomright" });

    legend.onAdd = function (map) {
      const div = L.DomUtil.create("div", "info legend");
      div.innerHTML = `
        <h4>Tipos de Plantas</h4>
        <i style="background: red; width: 12px; height: 12px; display: inline-block; margin-right: 6px;"></i> Hidroel√©ctrica<br>
        <i style="background: blue; width: 12px; height: 12px; display: inline-block; margin-right: 6px;"></i> Termoel√©ctrica
      `;
      div.style.background = "white";
      div.style.padding = "8px";
      div.style.borderRadius = "8px";
      div.style.boxShadow = "0 2px 6px rgba(0,0,0,0.3)";
      return div;
    };

    legend.addTo(map);
  </script>
</body>
</html>
